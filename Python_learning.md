# Python 面向对象

## 1. \_\_new\_\_， \_\_init\_\_， \_\_call\_\_三个方法

 \_\_new\_\_，对象的创建，是一个静态方法，第一个参数是cls

 \_\_init\_\_，对象的初始化，是一个实例方法，第一个参数是self

 \_\_call\_\_，对象可call

1.\_\_new\_\_，和_\_init\_\_详解：new方法先被调用，返回一个实例对象，接着init被调用，从输出结果来看，new方法的返回值就是类的实例对象，这个实例对象会传递给init方法中定义的self参数，以便实例对象可以被正确地初始化。

2.如果new方法不返回值(或者说返回None)，那么ini将不会得到调用，这个也说的通，因为实例对象都还没创建起来，调用init也没什么用，此外，python还规定，init只能返回None值，否者会报错。

3.new方法在类定义不是必须写的，如果没定义，默认会调用object. \_\_new\_\_去创建一个对象，如果定义了，就是override，可以custom创建对象行为。如果每次创建对象返回同一个就是单例模式了，下面会举个例子说明，并列举几种单例模式。

4.如果是采取自定义的new，是重载了父类的new，所以要自己显示调用父类的new，即object. \_\_new\_\_,或者用super()，所以自定义的new就需要用以下两种中其中一种：

- object. \_\_new\_\_(cls,*args,**kwargs)

- super(Bar.cls)._\_new\_\_(cls)

5.实例化后的对象，再当函数一样执行就会执行到这个 \_\_call\_\_函数

## 2.三个函数的理解

Python中的类还远不止如此。类同样也是一种对象。是的，没错，就是对象。只要你使用关键字class，Python解释器在执行的时候就会创建一个对象。下面的代码段：

```
class ObjectCreator(object):
…       pass
```

将在内存中创建一个对象，名字就是ObjectCreator。这个对象（类）自身拥有创建对象（类实例）的能力，而这就是为什么它是一个类的原因。但是，它的本质仍然是一个对象，于是乎你可以对它做如下的操作：

1. 可以将它赋值给一个变量
2. 可以拷贝它
3. 可以为它增加属性
4. 可以将它作为函数参数进行传递

个人理解：

所以当你调用class时候，其实是拥有一块内存的空间，你可以往里面塞东西，拷贝，增加属性等等，当然它有着特殊能力，就是创建实例！！！，但是这个能力是父类给它

